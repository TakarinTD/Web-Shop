<div id="category-menu" class="navbar collapse in mb_40" aria-expanded="true" style="" role="button">
    <div class="nav-responsive">
        <div class="heading-part">
            <h2 class="main_title">Top category</h2>
        </div>
        <ul class="nav  main-navigation collapse in">
            <th:block th:each="item : ${categories}">
                <li>
                    <a th:href="@{'/category?name=' + ${item.getCategoryName()} + '&page=1&sortField=salePrice&sortDir=asc'}"
                       th:utext="${item.getCategoryName()}">Appliances</a></li>
            </th:block>
        </ul>
    </div>
</div>
<div class="left-special left-sidebar-widget mb_50">
    <div class="heading-part mb_10 ">
        <h2 class="main_title">Top bán chạy</h2>
    </div>
    <div id="left-special" class="owl-carousel">
        <ul class="row" th:if="${productsTopSale}">
            <th:block th:each="product, state : ${productsTopSale}" th:if="${(state.index ge 0 && state.index le 3)}">
                <li class="item product-layout-left mb_20">
                    <div class="product-list col-xs-4">
                        <div class="product-thumb">
                            <div class="image product-imageblock">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}">
                                    <img class="img-responsive" title="iPod Classic" alt="iPod Classic"
                                         th:src="@{'/images/product/' + ${product.getImage()}}">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-8">
                        <div class="caption product-detail">
                            <h6 class="product-name">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}" th:utext="${product.getProductName()}"></a>
                            </h6>
                            <div class="rating">
                                            <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                                    class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-x"></i></span>
                            </div>
                            <th:block th:if="${product.getSalePriceDiscount() > 0}">
                                            <span class="price"
                                                  style="color: rgba(0,0,0,.54); text-decoration: line-through;margin-right: 5px; font-size: 14px; ">
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                    class="currencySymbol">đ</span>
                                            </span>
                                <span class="price" style="color: #ee4d2d;">
                                                <span class="amount"
                                                      th:utext="${product.getSalePriceDiscount()}"></span><span
                                        class="currencySymbol">đ</span>
                                            </span>
                            </th:block>
                            <th:block th:if="${product.getSalePriceDiscount() == 0}">
                                            <span class="price" style="color: #ee4d2d;">$
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                        class="currencySymbol">đ</span></span>
                                </span>
                            </th:block>
                        </div>
                    </div>
                </li>
            </th:block>
        </ul>
        <ul class="row" th:if="${productsTopSale}">
            <th:block th:each="product, state : ${productsTopSale}" th:if="${(state.index ge 0 && state.index le 3)}">
                <li class="item product-layout-left mb_20">
                    <div class="product-list col-xs-4">
                        <div class="product-thumb">
                            <div class="image product-imageblock">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}">
                                    <img class="img-responsive" title="iPod Classic" alt="iPod Classic"
                                         th:src="@{'/images/product/' + ${product.getImage()}}">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-8">
                        <div class="caption product-detail">
                            <h6 class="product-name">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}" th:utext="${product.getProductName()}"></a>
                            </h6>
                            <div class="rating">
                                            <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                                    class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-x"></i></span>
                            </div>
                            <th:block th:if="${product.getSalePriceDiscount() > 0}">
                                            <span class="price"
                                                  style="color: rgba(0,0,0,.54); text-decoration: line-through;margin-right: 5px; font-size: 14px; ">
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                    class="currencySymbol">đ</span>
                                            </span>
                                <span class="price" style="color: #ee4d2d;">
                                                <span class="amount"
                                                      th:utext="${product.getSalePriceDiscount()}"></span><span
                                        class="currencySymbol">đ</span>
                                            </span>
                            </th:block>
                            <th:block th:if="${product.getSalePriceDiscount() == 0}">
                                            <span class="price" style="color: #ee4d2d;">$
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                        class="currencySymbol">đ</span></span>
                                </span>
                            </th:block>
                        </div>
                    </div>
                </li>
            </th:block>
        </ul>
        <ul class="row" th:if="${productsTopSale}">
            <th:block th:each="product, state : ${productsTopSale}" th:if="${(state.index ge 0 && state.index le 3)}">
                <li class="item product-layout-left mb_20">
                    <div class="product-list col-xs-4">
                        <div class="product-thumb">
                            <div class="image product-imageblock">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}">
                                    <img class="img-responsive" title="iPod Classic" alt="iPod Classic"
                                         th:src="@{'/images/product/' + ${product.getImage()}}">
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-8">
                        <div class="caption product-detail">
                            <h6 class="product-name">
                                <a th:href="@{'/product/' + ${product.getId()} + '/detail'}" th:utext="${product.getProductName()}"></a>
                            </h6>
                            <div class="rating">
                                            <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                                    class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-1x"></i></span>
                                <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i><i
                                        class="fa fa-star fa-stack-x"></i></span>
                            </div>
                            <th:block th:if="${product.getSalePriceDiscount() > 0}">
                                            <span class="price"
                                                  style="color: rgba(0,0,0,.54); text-decoration: line-through;margin-right: 5px; font-size: 14px; ">
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                    class="currencySymbol">đ</span>
                                            </span>
                                <span class="price" style="color: #ee4d2d;">
                                                <span class="amount"
                                                      th:utext="${product.getSalePriceDiscount()}"></span><span
                                        class="currencySymbol">đ</span>
                                            </span>
                            </th:block>
                            <th:block th:if="${product.getSalePriceDiscount() == 0}">
                                            <span class="price" style="color: #ee4d2d;">$
                                                <span class="amount" th:utext="${product.getSalePrice()}"></span><span
                                                        class="currencySymbol">đ</span></span>
                                </span>
                            </th:block>
                        </div>
                    </div>
                </li>
            </th:block>
        </ul>
    </div>
</div>